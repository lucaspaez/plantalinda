# =========================================
# Planta Linda - Production Configuration
# =========================================
# Copy this to application-prod.properties and set via environment variables

spring.profiles.active=prod

# Database - MUST be set via environment variables
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# CRITICAL: Use 'validate' in production - never 'update' or 'create'
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false

# Connection Pool - Production optimized
spring.datasource.hikari.maximum-pool-size=${DB_POOL_SIZE:20}
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JWT - MUST be set via environment variable
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Server
server.port=${SERVER_PORT:8081}

# AI Service - with API key authentication
ai.service.url=${AI_SERVICE_URL}
ai.service.api-key=${AI_SERVICE_API_KEY}

# File Upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging - Production level
logging.level.root=WARN
logging.level.com.plantalinda.app=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# Security Headers
server.error.include-message=never
server.error.include-stacktrace=never
